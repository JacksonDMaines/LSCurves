meas)l
meas_l
x = -30:30
y = exp(x) / (1 + exp(x))
z = y + rnorm(length(y), 0,.02) + 1
x2 = 0:60
#test <- differences(time = x2, meas = log(z), showplot = TRUE)
test <- differences2(time = x2, meas = z, showplot = TRUE)
lag <- lagtime(time = x2, meas = z, differences = test, showplot = TRUE)
time_l
length(time_L)
length(time_l)
length(meas_l)
meas_l <- log(z[(length(z) - length(time_l) - 1):length(z)])
meas_l <- log(z[(length(z) - length(time_l) - 1):length(z)])
time_l <-  which(time > lag)
meas_l <- log(z[(length(z) - length(time_l) - 1):length(z)])
plot(time_l, meas_l)
a
time_l <-  which(time > lag)
meas_l <- log(z[(length(z) - length(time_l) + 1):length(z)])
plot(time_l, meas_l)
plot(x2, z)
plot(time_l, meas_l)
plot(time_l, meas_l*.1)
differences(time_l, meas_l, showplot = TRUE)
time_l
dist(x)
test <- dist(x)
test
dist(test)
diff(Test)
diff(test)
?setdiff
?diff
diff(1:10, 2)
diff(time)
test <- differences(time_l, meas_l, showplot = TRUE)
diff(test)
diff(test)
test
abs(diff(test))
plot(time_l, abs(diff(test)))
#first cuttime to after lag time, and log data
time_l <-  which(time > lag)
meas_l <- log(z[(length(z) - length(time_l) + 1):length(z)])
plot(time_l, meas_l)
plot(time_l, meas_l*.1)
test <- differences(time_l, meas_l, showplot = TRUE)
plot(time_l, abs(diff(test)))
x = -30:30
y = exp(x) / (1 + exp(x))
z = y + rnorm(length(y), 0,.02) + 1
x2 = 0:60
#test <- differences(time = x2, meas = log(z), showplot = TRUE)
test <- differences2(time = x2, meas = z, showplot = TRUE)
lag <- lagtime(time = x2, meas = z, differences = test, showplot = TRUE)
#stat <- stattime(time = x2, meas =z, lag = lag, threshold = .01)
#first cuttime to after lag time, and log data
time_l <-  which(time > lag)
meas_l <- log(z[(length(z) - length(time_l) + 1):length(z)])
plot(time_l, meas_l)
plot(time_l, meas_l*.1)
test <- differences(time_l, meas_l, showplot = TRUE)
plot(time_l, abs(diff(test)))
plot(time_l, abs(diff(meas_l)))
plot(time_l, meas_l)
plot(time_l, meas_l*.1)
plot(time_l, abs(diff(meas_l)))
diff(meas_l)
length(meas_l)
length(time_l)
length(abs(diff(meas_l)))
plot(time_l, abs(diff(meas_l, lag = 1)))
abs(diff(meas_l, lag = 1))
length(abs(diff(meas_l, lag = 1)))
plot(time_l[:-1], abs(diff(meas_l, lag = 1)))
plot(time_l[-1], abs(diff(meas_l, lag = 1)))
plot(time_l[-1], abs(diff(test)))
lines(y = .01)
lines(x = .01)
abline(h = .01)
abline(h = .05)
plot(time_l[-1], abs(diff(test)))
abline(h = .05)
abline(v = 33)
x = -30:30
y = exp(x) / (1 + exp(x))
z = y + rnorm(length(y), 0,.02) + 1
x2 = 0:60
#test <- differences(time = x2, meas = log(z), showplot = TRUE)
test <- differences2(time = x2, meas = z, showplot = TRUE)
lag <- lagtime(time = x2, meas = z, differences = test, showplot = TRUE)
#stat <- stattime(time = x2, meas =z, lag = lag, threshold = .01)
#first cuttime to after lag time, and log data
time_l <-  which(time > lag)
meas_l <- log(z[(length(z) - length(time_l) + 1):length(z)])
plot(time_l, meas_l)
plot(time_l, meas_l*.1)
test <- differences(time_l, meas_l, showplot = TRUE)
plot(time_l[-1], abs(diff(test)))
abline(h = .05)
abline(v = 33)
plot(time_l[-1], abs(diff(test * .1)))
plot(time_l[-1], abs(diff(test)))
plot(time_l[-1], abs(diff(meas_l))
plot(time_l[-1], abs(diff(meas_l))
plot(time_l[-1], abs(diff(meas_l)))
plot(time_l[-1], diff(meas_l))
for (i in (length(time_l) - 2 - 1)) {
current_window <- time_l[i:(i + window)]
if(all(diff([current_window]) > .01)){
for (i in (length(time_l) - 2 - 1)) {
current_window <- time_l[i:(i + window)]
if(all(diff(meas_l)[current_window] > .01)){
print(time_l[i])
}
}
for (i in (length(time_l) - 2 - 1)) {
current_window <- time_l[i:(i + 2)]
if(all(diff(meas_l)[current_window] > .01)){
print(time_l[i])
}
}
for (i in (length(time_l) - 2)) {
current_window <- time_l[i:(i + 2)]
if(all(diff(meas_l)[current_window] > .01)){
print(time_l[i])
}
}
x = -30:30
y = exp(x) / (1 + exp(x))
z = y + rnorm(length(y), 0,.02) + 1
x2 = 0:60
#test <- differences(time = x2, meas = log(z), showplot = TRUE)
test <- differences2(time = x2, meas = z, showplot = TRUE)
lag <- lagtime(time = x2, meas = z, differences = test, showplot = TRUE)
#stat <- stattime(time = x2, meas =z, lag = lag, threshold = .01)
#first cuttime to after lag time, and log data
time_l <-  which(time > lag)
meas_l <- log(z[(length(z) - length(time_l) + 1):length(z)])
plot(time_l, meas_l)
plot(time_l, meas_l*.1)
plot(time_l[-1], diff(meas_l))
for (i in (length(time_l) - 2)) {
current_window <- time_l[i:(i + 2)]
if(all(diff(meas_l)[current_window] > .01)){
print(time_l[i])
}
}
what <- diff(time_l)
for (i in (length(time_l) - 2)) {
current_window <- time_l[i:(i + 2)]
if(all(what[current_window] > .01)){
print(time_l[i])
}
}
what[1:3] > .01
all(what[1:3] > .01)
all(what[1:3=4] > .01)
all(what[1:4] > .01)
all(what[1:5] > .01)
all(what[1:6] > .01)
all(what[1:7] > .01)
all(what[1:8] > .01)
all(what[1:9] > .01)
all(what[1:10] > .01)
all(what[1:11] > .01)
all(what[1:12] > .01)
what <- diff(meas_l)
all(what[1:12] > .01)
all(what[1:3] > .01)
all(what[1:2] > .01)
all(what[1:3] > .01)
all(what[1:4] > .01)
all(what[1:5] > .01)
all(what[1:5=6] > .01)
all(what[1:6] > .01)
all(what[1:7] > .01)
all(what[1:15] > .01)
plot(time_l[-1], diff(meas_l))
abline(h = .01)
all(diff(meas_l)[1:3] > .01)
all(diff(meas_l)[1:4] > .01)
all(diff(meas_l)[1:5] > .01)
all(diff(meas_l)[1:6] > .01)
all(diff(meas_l)[1:7] > .01)
all(diff(meas_l)[1:8] > .01)
x = -30:30
y = exp(x) / (1 + exp(x))
z = y + rnorm(length(y), 0,.02) + 1
x2 = 0:60
#test <- differences(time = x2, meas = log(z), showplot = TRUE)
test <- differences2(time = x2, meas = z, showplot = TRUE)
lag <- lagtime(time = x2, meas = z, differences = test, showplot = TRUE)
#stat <- stattime(time = x2, meas =z, lag = lag, threshold = .01)
#first cuttime to after lag time, and log data
time_l <-  which(time > lag)
meas_l <- log(z[(length(z) - length(time_l) + 1):length(z)])
plot(time_l, meas_l)
plot(time_l, meas_l*.1)
#plot(time_l[-1], diff(meas_l))
what <- diff(meas_l)
for (i in (length(time_l) - 3)) {
current_window <- time_l[i:(i + 2)]
if(all(what[current_window] < .01)){
print(time_l[i])
}
}
for (i in (length(time_l) - 3)) {
current_window <- time_l[i:(i + 2)]
if(all(what[current_window] < .01) == TRUE){
print(time_l[i])
}
}
what <- diff(meas_l)
for (i in (length(time_l) - 3)) {
current_window <- time_l[i:(i + 2)]
if(all(what[current_window] < .01) == TRUE){
print(time_l[i])
}
}
current_window <- time_l[1:(1 + 2)]
current_window
what[current_window]
what
for (i in (length(time_l) - 3)) {
if(all(what[i:(i + 2)] < .01) == TRUE){
print(time_l[i])
}
}
for (i in (length(time_l) - 3)) {
if(all(what[i:(i + 2)] < .01) == TRUE){
print(time_l[i])
}
}
print("YEAH")
for (i in (length(time_l) - 3)) {
if(all(what[i:(i + 2)] < .01) == TRUE){
yes <- time_l[i]
print(yes)
}
}
yes
for (i in (length(time_l) - 2)) {
if(all(what[i:(i + 2)] < .01) == TRUE){
yes <- time_l[i]
print(yes)
}
}
for (i in (length(time_l) - 3)) {
if(all(what[i:(i + 2)] < .01) == TRUE){
yes <- time_l[i]
print(yes)
}
}
for (i in (length(time_l) - 2)) {
if(all(what[i:(i + 2)] < .01) == TRUE){
yes <- time_l[i]
print(yes)
}
}
for (i in (length(time_l) - 3)) {
if(all(what[i:(i + 2)] < .01) == TRUE){
yes <- time_l[i]
print(yes)
}
}
x = -30:30
y = exp(x) / (1 + exp(x))
z = y + rnorm(length(y), 0,.02) + 1
x2 = 0:60
#test <- differences(time = x2, meas = log(z), showplot = TRUE)
test <- differences2(time = x2, meas = z, showplot = TRUE)
lag <- lagtime(time = x2, meas = z, differences = test, showplot = TRUE)
#stat <- stattime(time = x2, meas =z, lag = lag, threshold = .01)
#first cuttime to after lag time, and log data
time_l <-  which(time > lag)
meas_l <- log(z[(length(z) - length(time_l) + 1):length(z)])
plot(time_l, meas_l)
plot(time_l, meas_l*.1)
#plot(time_l[-1], diff(meas_l))
what <- diff(meas_l)
#first cuttime to after lag time, and log data
time_l <-  which(time > lag)
time_l
meas_l <- log(z[(length(z) - length(time_l) + 1):length(z)])
meas_l
#plot(time_l[-1], diff(meas_l))
what <- diff(meas_l)
what
plot(time_l, what)
plot(time_l[-1], what)
time_l[-1]
plot(time_l[-length(time_l)], what)
time_l[-length(time_l)]
abline(h = .01)
for (i in length(time_l) - 2 - 1) {
if(all(what[i:(i + 2)] < .01) == TRUE){
print(i)
}
}
for (i in length(time_l) - 2 - 1) {
if(all(what[i:(i + 2)] < .01) == TRUE){
print(i)
break
}
}
all(what[i:(i + 2)] < .01)
what
all(what[i:(i + 2)] > .01)
for (i in length(time_l) - 2 - 1) {
if(all(what[i:(i + 2)] > .01) == TRUE){
print(i)
break
}
}
what
what[1] < .01
?all
all(what[1:3] < .01)
for (i in length(time_l) - 2 - 1) {
start <- i
end <- i + 2
if(all(what[start:end] < .01) == TRUE){
print(i)
}
}
what
print(time_l[i])
for (i in length(time_l) - 2 - 1) {
start <- i
end <- i + 2
if(all(what[start:end] < .01) == TRUE){
print(i)
print(time_l[i])
break
}
}
all(what[1:3] < .01)
all(what[2:4] < .01)
all(what[3:5] < .01)
all(what[4:6] < .01)
all(what[5:7] < .01)
all(what[5:8] < .01)
all(what[6:9] < .01)
all(what[7:10] < .01)
all(what[8:11] < .01)
for (i in length(time_l) - 2 - 1) {
start <- i
end <- i + 2
if(all(what[start:end] > .01) == FALSE){
print(i)
print(time_l[i])
break
}
}
all(what[1:3] > .01)
all(what[2:4] > .01)
all(what[3:5] > .01)
all(what[4:6] > .01)
all(what[4:7] > .01)
all(what[5:8] > .01)
for (i in length(time_l) - 2 - 1) {
start <- i
end <- i + 2
if(all(what[start:end] > .05) == FALSE){
print(i)
print(time_l[i])
break
}
}
length(time_l) -3
for (i in length(time_l) - 2 - 1) {
start <- i
end <- i + 2
if(all(what[start:end] > .05) == FALSE){
hey <- i
print("hey")
print(time_l[i])
}
}
for (i in length(time_l) - 2 - 1) {
start <- i
end <- i + 2
if(all(what[start:end] > .05) == FALSE){
hey <- i
print("hey")
print(time_l[i])
break
}
}
for (i in length(time_l) - 2 - 1) {
start <- i
end <- i + 2
if(all(what[start:end] > .05) == FALSE){
hey <- i + 2
print("hey")
print(time_l[i + 2])
break
}
}
plot(time_l, meas_l)
#plot(time_l[-1], diff(meas_l))
what <- diff(meas_l)
plot(time_l[-length(time_l)], what)
# why isnt this working?
for (i in (length(time_l) - 2 - 1)) {
start <- i
end <- i + 2
if(all(what[start:end] > .05) == FALSE){
hey <- i + 2
print("hey")
print(time_l[i + 2])
break
}
}
all(what[1:3] > .05)
all(what[1:4] > .05)
all(what[1:5] > .05)
for (i in (length(time_l) - 2 - 1)) {
if(all(what[1:i] > .05) == FALSE){
print(i)
break
}
}
j <- 1
for (i in (length(time_l) - 2 - 1)) {
j <- j + 1
if(all(what[1:i] > .05) == FALSE){
print(j)
break
}
}
j <- 1
for (i in (length(time_l) - 2 - 1)) {
j <- j + 1
if(all(what[1:i] > .05) == FALSE){
print(j)
break
}
}
for (i in (length(time_l) - 2 - 1)) {
j <- j + 1
if(all(what[1:i] > .05) == FALSE){
print(i)
break
}
}
for (i in (length(time_l) - 2 - 1)) {
j <- j + 1
if(all(what[1:i] > .05) == FALSE){
print(j)
break
}
}
for (i in (length(time_l) - 2 - 1)) {
j <- j + 1
if(all(what[1:i] > .05) == FALSE){
print(j)
break
}
}
j <- 1
for (i in (length(time_l) - 2 - 1)) {
j <- j + 1
if(all(what[1:i] > .05) == FALSE){
print(j)
break
}
}
start <- 0
end <- start
for (i in (length(time_l) - 2 - 1)) {
start <- start + 1
end <- start + 2
if(all(what[start:end] > .05) == FALSE){
print(j)
break
}
}
start <- 0
end <- start
for (i in (length(time_l) - 2 - 1)) {
start <- start + 1
end <- start + 2
if(all(what[start:end] > .05) == FALSE){
print(end)
break
}
}
print("hey")
start <- 0
end <- start
for (i in (length(time_l) - 2 - 1)) {
start <- start + 1
end <- start + 2
if(all(what[start:end] > .05) == FALSE){
print("hey")
break
}
}
start <- 0
end <- start
for (i in (length(time_l) - 2 - 1)) {
start <- start + 1
end <- start + 2
if(all(what[start:end] > .05) == FALSE){
print("hey")
break
}
}
